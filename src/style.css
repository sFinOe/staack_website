@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html.lenis, html.lenis body {
    height: auto;
  }

  .lenis.lenis-smooth {
    scroll-behavior: auto !important;
  }

  .lenis.lenis-smooth [data-lenis-prevent] {
    overscroll-behavior: contain;
  }

  .lenis.lenis-stopped {
    overflow: hidden;
  }

  .lenis.lenis-scrolling iframe {
    pointer-events: none;
  }

  body {
    @apply bg-bg-warm text-gray-900 antialiased;
  }
}

@layer components {
  /* Buttons */
  .btn-primary {
    @apply inline-flex items-center justify-center px-6 py-3.5 bg-poker-green text-white font-medium rounded-xl
           shadow-btn transition-all duration-200
           hover:bg-poker-green-dark hover:shadow-btn-hover hover:-translate-y-0.5
           focus:outline-none focus:ring-2 focus:ring-poker-green/50 focus:ring-offset-2
           active:translate-y-0 active:shadow-btn;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center px-6 py-3.5 bg-white text-poker-green font-medium rounded-xl
           border border-gray-200 shadow-subtle transition-all duration-200
           hover:border-poker-green/30 hover:bg-poker-green/5 hover:shadow-btn-hover hover:-translate-y-0.5
           focus:outline-none focus:ring-2 focus:ring-poker-green/50 focus:ring-offset-2
           active:translate-y-0;
  }

  .btn-white {
    @apply inline-flex items-center justify-center px-8 py-4 bg-white text-poker-green font-semibold rounded-xl
           shadow-btn transition-all duration-200
           hover:bg-gray-50 hover:shadow-lg hover:-translate-y-0.5
           focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-2 focus:ring-offset-poker-green
           active:translate-y-0;
  }

  /* Cards */
  .feature-card {
    @apply bg-white rounded-2xl shadow-card transition-all duration-300 overflow-hidden
           border border-gray-100;
  }

  .feature-card:hover {
    @apply shadow-card-hover border-gray-200/80;
  }

  .feature-card:hover .phone-frame {
    @apply -translate-y-2 shadow-phone-hover;
  }

  /* Phone Mockups */
  .phone-frame {
    @apply relative bg-gray-900 rounded-[2.5rem] p-2 shadow-phone transition-all duration-300
           border border-gray-800;
  }

  .phone-screen {
    @apply rounded-[2rem] overflow-hidden bg-white;
    box-shadow: inset 0 0 0 1px rgba(0,0,0,0.1);
  }

  /* Typography */
  .heading-hero {
    @apply font-display text-hero md:text-hero-lg text-gray-900;
  }

  .heading-section {
    @apply font-display text-section md:text-section-lg text-gray-900;
  }

  .heading-card {
    @apply font-display text-card-title text-gray-900;
  }

  .section-title {
    @apply font-display text-section md:text-section-lg text-gray-900 mb-4;
  }

  .section-subtitle {
    @apply text-lg text-gray-500 max-w-2xl leading-relaxed;
  }

  /* Section Badges */
  .section-badge {
    @apply inline-flex items-center px-3.5 py-1.5 rounded-full
           bg-poker-green/8 text-poker-green text-sm font-medium mb-5;
  }

  .section-badge-dot {
    @apply w-1.5 h-1.5 bg-poker-gold rounded-full mr-2;
  }

  /* Navigation */
  .nav-link {
    @apply text-gray-600 hover:text-poker-green transition-colors duration-200 font-medium;
  }

  /* Dropdown Menu */
  .dropdown-menu {
    @apply absolute top-full left-0 w-56 bg-white rounded-xl shadow-lg
           border border-gray-100 opacity-0 invisible pointer-events-none
           transform -translate-y-2 transition-all duration-200 z-50;
    margin-top: 0;
    padding-top: 8px;
    background-clip: padding-box;
  }

  .dropdown-menu::before {
    content: '';
    position: absolute;
    top: -12px;
    left: 0;
    right: 0;
    height: 20px;
  }

  .group:hover .dropdown-menu {
    @apply opacity-100 visible pointer-events-auto translate-y-0;
  }

  .dropdown-section {
    @apply px-2 py-3 border-b border-gray-100 last:border-b-0;
  }

  .dropdown-label {
    @apply block px-3 py-1 text-xs font-semibold text-gray-400 uppercase tracking-wider;
  }

  .dropdown-item {
    @apply block px-3 py-2 text-sm text-gray-700 rounded-lg
           hover:bg-poker-green/5 hover:text-poker-green transition-colors duration-150;
  }

  /* Feature card link styles */
  .feature-card-link {
    @apply block cursor-pointer;
  }

  .feature-card-link:hover {
    @apply shadow-card-hover border-poker-green/20;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .gradient-text {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, #0d5c3d 0%, #1a7a52 50%, #0d5c3d 100%);
  }

  .gold-divider {
    @apply h-px w-24 mx-auto bg-gradient-to-r from-transparent via-poker-gold/40 to-transparent;
  }

  .bg-poker-green\/8 {
    background-color: rgba(13, 92, 61, 0.08);
  }
}

/* FAQ Accordion */
.faq-item {
  @apply border-b border-gray-200/80 last:border-b-0;
}

.faq-question {
  @apply w-full flex items-center justify-between py-6 text-left text-gray-900 font-semibold
         hover:text-poker-green transition-colors duration-200 cursor-pointer
         rounded-lg;
}

.faq-question:hover {
  @apply bg-gray-50/50;
}

.faq-answer {
  @apply overflow-hidden transition-all duration-300 ease-in-out;
  max-height: 0;
}

.faq-item.open .faq-answer {
  max-height: 500px;
}

.faq-icon {
  @apply w-5 h-5 text-gray-400 transition-all duration-300 flex-shrink-0;
}

.faq-item.open .faq-icon {
  @apply rotate-180 text-poker-green;
}

/* Mobile menu */
.mobile-menu {
  @apply fixed inset-0 bg-white z-50 transform translate-x-full transition-transform duration-300 ease-in-out;
}

.mobile-menu.open {
  @apply translate-x-0;
}

/* Mobile features submenu */
.mobile-features-submenu {
  @apply overflow-hidden transition-all duration-300 ease-in-out;
  max-height: 0;
}

.mobile-features-section.open .mobile-features-submenu {
  max-height: 400px;
}

.mobile-features-section.open button svg {
  @apply rotate-180;
}

/* Staggered animations */
.stagger-1 { transition-delay: 0ms; }
.stagger-2 { transition-delay: 100ms; }
.stagger-3 { transition-delay: 200ms; }
.stagger-4 { transition-delay: 300ms; }
.stagger-5 { transition-delay: 400ms; }
.stagger-6 { transition-delay: 500ms; }

/* Header shrink transition */
.header-logo {
  @apply transition-all duration-300;
}

.header-shrink .header-logo {
  @apply h-6;
}

/* Hero parallax container */
.parallax-phone {
  @apply transition-transform duration-100 ease-out;
}

/* Scroll animations - handled by JavaScript */

/* Benefit items */
.benefit-item {
  @apply flex items-start gap-3;
}

.benefit-icon {
  @apply w-5 h-5 text-poker-green flex-shrink-0 mt-0.5;
}

/* How it works step */
.how-it-works-step {
  @apply flex flex-col items-center text-center;
}

.step-number {
  @apply w-10 h-10 rounded-full bg-poker-green/10 text-poker-green font-display font-semibold
         flex items-center justify-center text-lg mb-3;
}

.step-connector {
  @apply hidden md:block w-12 lg:w-16 h-px bg-gradient-to-r from-poker-green/20 to-poker-green/5;
}
